<button class="card deck-card" @onclick="OnClick">
	@if (Deck.ImageUri is null)
	{
		<div class="deck-cover deck-cover-placeholder icon filled">box</div>
	}
	else
	{
		<img src="@Deck.ImageUri" class="deck-cover" alt="Deck image"/>
	}
	<div class="card-layout">
		<div class="card-body">
			@if (Deck.DeckUri is not null)
			{
				<a class="btn btn-square btn-ghost-secondary hover-icon-filled float-end"
				   @onclick:stopPropagation="true"
				   href="@Deck.DeckUri"
				   target="_blank"
				   rel="noreferrer"
				   title="Open decklist in new tab">
					<span class="icon">open_in_new</span>
				</a>
			}
			<div class="card-title fw-medium">@(Deck.Name ?? Deck.Commander)</div>
			<div class="card-subtitle text-muted d-flex flex-column">
				@if (Deck.Name is not null)
				{
					<span>@Deck.Commander</span>
				}
				<span>@Deck.Partner</span>
			</div>
		</div>

		<div class="card-footer card-footer-borderless d-flex justify-content-between small">
			<ColoursDisplay Value="Deck.ColourIdentity"/>
			<div class="deck-stats">
				<div class="deck-stat" title="Win ratio">
					<span class="icon">trophy</span> 25%
				</div>
				<div class="deck-stat" title="Games played">
					<span class="icon">swords</span> 100
				</div>
			</div>
		</div>
	</div>
</button>

@code {

	[Parameter, EditorRequired]
    public required Deck Deck { get; set; }

	[Parameter]
    public EventCallback OnClick { get; set; }

}