<ol class="list-group list-group-numbered">
	@foreach (var (index, player) in Players.Index())
	{
		<li class="list-group-item d-flex gap-2 align-items-center">
			<div class="d-flex justify-content-between flex-grow-1">
				<div class="text-content gap-1.5">
					<Avatar Player="player" Size="24"/>
					<span>@player.Name</span>
					@if (player.Alias is not null)
					{
						<span class="text-muted small fst-italic ms-0.5">@player.Alias</span>
					}
				</div>
				<div class="d-flex gap-2">
					<button type="button" class="btn btn-ghost-secondary btn-circle"
					        @onclick="@(() => MoveUp(index))"
					        disabled="@(IsDisabled || index == 0)">
						<span class="icon disabled-hidden">arrow_upward</span>
					</button>
					<button type="button" class="btn btn-ghost-secondary btn-circle"
					        @onclick="@(() => MoveDown(index))"
					        disabled="@(IsDisabled || index == Players.Count - 1)">
						<span class="icon disabled-hidden">arrow_downward</span>
					</button>
				</div>
			</div>
		</li>
	}
</ol>

@code {

	[Parameter, EditorRequired]
    public required List<Player> Players { get; set; }

	[Parameter]
	public bool IsDisabled { get; set; }

	private void MoveUp(int index)
	{
		if (index <= 0)
			return;

		(Players[index - 1], Players[index]) = (Players[index], Players[index - 1]);
	}

	private void MoveDown(int index)
	{
		if (index >= Players.Count - 1)
			return;

		(Players[index + 1], Players[index]) = (Players[index], Players[index + 1]);
	}

}